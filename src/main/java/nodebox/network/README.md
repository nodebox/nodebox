# WebSocket Integration


## System Components
There are three main types of communication between Nodebox and a server:
- Data
    Data denotes Node based communications. ie Data to/from Nodes in a graph.  For example the SocketSendData Node always sends it's packages as Data.  Every time "Data" is sent from a node it waits for data to be sent back with the same UUID.  The calling node will block for a specified time waiting for a return message.

- Commands
    Commands are application commands such as play, stop, go to frame etc.  The are sent from the server to NodeBox.  Commands do not return values.

- Requests
    Requests are 

There is a fourth type: Relay, but this is only used on the server side and should never be sent to Nodebox so can be safely ignored unless you're created a complex system.


## Data message structure 
The underlying system creates this structure.  The same structure is used for outgoing and incoming messages from NodeBox nodes.  If using the SocketSendData node, "msg" is the input JSON object.

```
 {
    "type":"data"
    "id": <random UUID as string (generated by system, must be passed back to NodeBox)>
    "msg": [
        {"key": <String>, "value":<Value Object>},
        ...
    ]
 }
```


